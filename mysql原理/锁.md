# 锁

1. 共享锁
    - S锁, 读锁
    - 读的时候拿到共享锁, 其他的不能修改, 只能读
2. 排他锁
    - X锁, 写锁
    - for update 获取
    - 对一个记录上了排他锁之后, 就不能用其他的锁了
3. 意向共享锁
    - IS
    - 相当于 tryLock()
4. 意向排他锁
    - IX 
5. 自增锁
    - 没有提交的操作id也会失去
6. 临键锁
    - < > between 查询时 匹配到记录时, 会使用临键锁
    - b+树的叶子节点会
7. 间隙锁
    - 没有匹配到记录, 则退化为间隙锁
8. 记录锁
    - 行级锁

innodb行锁, 锁的是什么?
   - 行锁就是给索引上的索引项加锁
   
   
## 隔离级别和锁的关系
   - 幻读: 临键锁
   - 不可重复读: S锁, 共享锁
   - 脏读: X锁, 排他锁
   